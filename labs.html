<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Start | Muc-Labs</title>
		
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<script type="text/javascript" src="/js/config.js"></script>
		<link href="/css/muc-labs.css" rel="stylesheet">

		<style type="text/css">

			div.content-container {
				--content-percentage: 0.8;
				width: calc(100% * var(--content-percentage));
				margin-left: calc(50% * (1 - var(--content-percentage)));
			}

			div.lab-card-container {
				display: flex;	
				flex-direction: row;
				flex-wrap: wrap;
				justify-content: center;
			}
			div.lab-card {
				margin: 4px;
			}
			div.lab-card p {
				width: 100%;
				text-align: center;
				text-decoration: underline;
			}
			div.lab-card h5.lab-card-title {
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
			}

			div.horiz-flex-container {
				display: flex;
				flex-direction: row;
				flex-wrap: wrap;
			}

			div.lab-tag {
				background-color: #000c66; /*Navy Blau*/
				padding: 1px 4px 1px 4px;
				color: white;
				position: relative;
				margin-right: 3px;
				margin-bottom: 2px;
				border-radius: 7.5px;
			}

			div.main-lab-tag div.lab-tag {
				background-color: #333f99;
				border: 2px solid #7ec8e3;
				position: relative;
				top: -2px;
			}
		</style>

		<script type="text/javascript">
			function renderTags(lab) {
				var main_tags = ""
				for (var üt of lab.überthema) {

					main_tags += '<span class="lab-tag badge rounded-pill text-bg-primary">'+üt+'</span>';
				}
				var side_tags = "";
				for (var ut of lab.unterthema) {
					side_tags += '<span class="lab-tag badge rounded-pill text-bg-info">'+ut+'</span>';
				}
				return [main_tags, side_tags];
			}

			function main() {
				cards = ""
				for(var [name, lab] of Object.entries(context)) {
					if (name === "Muster") { continue; }

					var [main, side] = renderTags(lab);
					cards += `
						<div class="card lab-card" style="width: 18rem; position:relative;">
							<img class="card-img-top" src="${lab.images[0]}" alt="1. Bild von ${lab.name}">
							<div class="card-body">
								<h5 class="card-title lab-card-title">${lab.name}</h5>
								<div class="horiz-flex-container">${main}</div>
								<details style="margin-bottom: 30px">
  									<summary>Mehr</summary>
  									<div class="horiz-flex-container">${side}</div>
								</details>
								<a style="position:absolute;bottom:5px;left:5px;" href="/lab.html?lab=${name}" class="btn btn-secondary">Aufrufen</a>
							</div>
						</div>
					`;
				}
				$(".lab-card-container").append(cards);
			}

			window.onload = main;
		</script>
	</head>

	<body>
		<nav class="navbar bg-body-tertiary fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="/">
					<div class="image-container-dont-resize-navbar">
						<img src="logo.png" alt="Muclabs Logo" class="image-centered-vertically" width=240 height=52>
					</div>
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
				</button>
				<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
					<div class="offcanvas-header">
						<h5 class="offcanvas-title" id="offcanvasNavbarLabel">
							<!-- Platzhaltertext -->
						</h5>
						<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
					</div>
					<div class="offcanvas-body">
						<ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/">Start</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/aktuelles.html">Aktuelles</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/labs.html">Labore</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/karte.html">Karte</a>
							</li>

							<hr>

							<li class="nav-item">
								<a class="nav-link" href="/ueber-uns.html">Über uns</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/kontakt.html">Kontakt</a>
							</li>
							<!-- <li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
									Dropdown
								</a>
								<ul class="dropdown-menu">
									<li><a class="dropdown-item" href="#">Action</a></li>
									<li><a class="dropdown-item" href="#">Another action</a></li>
									<li>
										<hr class="dropdown-divider">
									</li>
									<li><a class="dropdown-item" href="#">Something else here</a></li>
								</ul>
							</li> -->
						</ul>
						<!-- <form class="d-flex mt-3" role="search">
							<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
							<button class="btn btn-outline-success" type="submit">Search</button>
						</form> -->
					</div>
				</div>
			</div>
		</nav>

		<main class="no-overlap-with-navbar" style="height: 1500px;">

			<div class="content-container">
				<h1>Liste aller Labs</h1>
				
				<div class="lab-card-container"></div>
			</div>
		</main>
	</body>
</html>